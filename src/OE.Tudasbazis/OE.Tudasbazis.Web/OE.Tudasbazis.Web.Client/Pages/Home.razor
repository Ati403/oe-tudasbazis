@page "/"
@using BlazorBootstrap;

@inject HttpClient HttpClient

<PageTitle>Főoldal</PageTitle>

<div class="home-container">
	<h1>Tedd fel a kérdésed az egyetemmel kapcsolatban</h1>

    @if (!string.IsNullOrEmpty(ApiResponse))
    {
        <div class="response-box">
            <p>@ApiResponse</p>
        </div>
    }

    <div class="input-container">
        <div class="user-input-container">
            <textarea class="user-input"
                      @bind="UserInput"
                      rows="2"
                      placeholder="Üzenet az ÓE tudásbázisnak"
                      style="resize:both;"
                      oninput="this.style.height = 'auto'; this.style.height = (this.scrollHeight) + 'px';">
            </textarea>
        </div>

        <div class="d-flex">
            <button class="search-button" @onclick="GetAnswerAsync">
                <Icon Name="IconName.Search" />
            </button>
        </div>
    </div>
</div>

@code {
    private string UserInput { get; set; }
    private string ApiResponse { get; set; }

    private void GetAnswerAsync()
    {
        //TODO
        //Implement search endpoint api calls

        ApiResponse = $"Válasz: {UserInput}";
        StateHasChanged();
    }
}